Распределенная картография (тестовое задание)
==================================
### Описание дисциплины

[Общая информация](INFO.md)

В рамках дисциплины «Распределенная картография» задача Команды разработать и запрограммировать алгоритм управления, позволяющий беспилотному летательному аппарату провести площадную аэрофотосъемку (АФС) с учетом требований за минимальное время. В тестовом задании группа беспилотных аппаратов состоит из одинаковых аппаратов в количестве определяемом заданием. Аппараты являются цифровыми двойниками реальных моделей беспилотных летательных аппаратов мультироторного типа.

Площадная аэрофотосъемка - это выполнение непрерывной серии снимков при полете галсами над заданной территорией. Целью АФС площадных объектов является создание точных пространственных цифровых моделей местности. Одним из требований при такой съемке является поддержание определенного угла галсирования (относительно направления на север). Угол галсирования определяется как отклонение направления галсирования от направления на север по часовой стрелке. Требуемое разрешение снимков, разрешение и угол обзора камеры, а также угол галсирования выдаются автоматически при запуске Симулятора.

Для учета рельефа при построении траектории предоставляется карта высот в виде png-изображения. Изображение является двумерным массивом данных (ось X - строка слева направо, ось Y - столбец сверху вниз). Разрешение карты - 1.28 метра х 1.28 метра. Направление на Север соответствует оси X. Направление на Восток соответствует оси Y.

Полигон представляет собой участок горной местности. Зона АФС представляет собой многоугольник, заданный координатами его вершин. Полет начинается при покидании аппаратом стартовой зоны и заканчивается при посадке аппарата в зоне посадки. Стартовая зона и зона посадки являются прямоугольниками и заданы координатами противолежащих вершин. При выполнении полета требуется нахождение аппарата в допустимой зоне. Допустимая зона включает в себя зону АФС и пространство вокруг зоны АФС не дальше расстояния R от нее. Помимо зоны АФС задаются запретные зоны, нахождение внутри которых не допускается. Запретные зоны представляют собой многоугольники или круги, заданные координатами вершин или координатами центра и радиусом соответственно. Значение R, координаты зоны АФС, стартовой зоны, зоны посадки и запретных зон выдаются автоматически при запуске Симулятора.

### Запуск

Команда для запуска Симулятора выглядит следующим образом

```
./afs.sh РЕЖИМ_ЛИГИ КОЛ_ВО
```

где РЕЖИМ_ЛИГИ может быть prof для Профессиональной или exp для Экспертной лиги,
КОЛ_ВО - общее количество аппаратов (по умолчанию 1).

Пример запуска в режиме Профессиональной лиги

```
./afs.sh prof
```

В тестовом задании группа беспилотных аппаратов состоит из одинаковых аппаратов в количестве 1 штуки.
При запуске аппараты появляются на стартовой площадке. Она же служит для посадки после завершения задания.

### Задание

Задача Команды разработать алгоритм управления аппаратом, который автоматически:

* построит маршрут полета с учетом зоны АФС, стартовой зоны, зоны посадки и запретных зон, а также угла галсирования;
* выдаст управляющее воздействие на аппарат для перемещения по построенному маршруту;
* выдаст управляющее воздействие на аппарат для запуска и прекращения процесса съемки (в тестовом задании отсутствует).

Для Профессиональной Лиги запретные зоны отсутствуют.

Для Экспертной Лиги запретные зоны присутствуют.

При определении победителя оценивается доля не закрашенной зоны АФС и время полета. Побеждает команда, набравшая наибольшее число баллов.

Баллы начисляются или снимаются за следующие действия:

* общее время полета;
* время нахождения вне допустимой зоны;
* соответствие направления съемки требуемому углу галсирования;
* доля не закрашенной зоны АФС.

#### Параметры тестового задания

Координаты вершин многоугольника, задающего зону АФС (широта, долгота): tasks/afs/gps_photo_1.zn
Расстояние R, задающее допустимое пространство вокруг зоны: 30 метров
Координаты вершин запретной зоны (для экспертной лиги): tasks/afs/gps_restricted_1.zn
Требуемый угол галсирования: 30 градусов
Требуемое разрешение снимка: не менее 6400 пикселей на метр квадратный
Карта высот: afs_heightmap.png (там же где выложено окружение)
Координаты центра карты высот (широта, долгота): (1,1)
Нулевой уровень карты высот соответствует нулю над уровнем моря (AMSL).

#### Параметры камеры

| Параметр                           | Значение           |
| ---------------------------------- | ------------------ |
| Размер изображения (пикселей), 3:2 | 6000 x 4000 (24 М) |
| Углы поля зрения                   | 73° HFOV, 52° VFOV |

### Определение отобранных команд

Для отбора в финал нужно зарегистрироваться до 20 ноября и прислать решение тестовой задачи до 22 ноября.
